<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>MÉMOIRE // LOCAL_SYSTEM</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=IBM+Plex+Mono:wght@400;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">

<style>
:root {
  --nt-black: #000000;
  --nt-white: #FFFFFF;
  --nt-grey-900: #121212;
  --nt-grey-800: #1C1C1C;
  --nt-grey-400: #888888;
  --nt-red: #EB0000;
  --nt-border: 1px solid #2C2C2C;
  --font-dot: 'IBM Plex Mono', monospace;
  --font-main: 'Inter', sans-serif;
}

* { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

body {
  font-family: var(--font-main);
  background: var(--nt-black);
  color: var(--nt-white);
  line-height: 1.5;
}

/* HEADER */
.app-header {
  padding: 40px 24px 20px;
  position: sticky; top: 0; 
  background: rgba(0,0,0,0.8);
  backdrop-filter: blur(20px); z-index: 100;
  border-bottom: var(--nt-border);
}
.header-top { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 24px; }
.app-title { font-family: var(--font-dot); font-size: 24px; letter-spacing: 1px; }
.app-title span { color: var(--nt-red); font-size: 14px; margin-left: 5px; }

.search-bar {
  display: flex; align-items: center;
  background: var(--nt-grey-900); border-radius: 100px; padding: 10px 18px;
  border: var(--nt-border);
}
.search-bar input { 
  background: transparent; border: none; color: white; 
  margin-left: 10px; flex: 1; outline: none; font-size: 14px;
}

/* GRID & CARDS */
.main-content { padding: 24px; padding-bottom: 120px; }
.cards-grid { 
  display: grid; 
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); 
  gap: 16px; 
}

.card {
  background: var(--nt-grey-900); border: var(--nt-border);
  border-radius: 28px; padding: 24px;
  position: relative; transition: 0.2s;
}
.card:active { transform: scale(0.98); border-color: var(--nt-white); }
.card-type { font-family: var(--font-dot); font-size: 10px; color: var(--nt-grey-400); margin-bottom: 8px; text-transform: uppercase; }
.card-title { font-size: 18px; font-weight: 600; margin-bottom: 8px; }
.card-text { font-size: 14px; color: var(--nt-grey-400); margin-bottom: 16px; white-space: pre-wrap; }
.card-img { width: 100%; border-radius: 16px; margin-bottom: 12px; border: var(--nt-border); }
.card-date { font-family: var(--font-dot); font-size: 10px; color: var(--nt-grey-400); }

.delete-btn {
  position: absolute; top: 20px; right: 20px;
  background: none; border: none; color: var(--nt-grey-400); cursor: pointer;
}

/* FAB */
.fab {
  position: fixed; bottom: 30px; right: 30px;
  width: 64px; height: 64px; border-radius: 50%;
  background: var(--nt-red); color: white; border: none;
  display: flex; align-items: center; justify-content: center;
  box-shadow: 0 10px 20px rgba(235, 0, 0, 0.2); cursor: pointer; z-index: 200;
}

/* MODAL */
.modal {
  position: fixed; inset: 0; background: rgba(0,0,0,0.95);
  display: none; align-items: center; justify-content: center; padding: 20px; z-index: 1000;
}
.modal.active { display: flex; }
.modal-content {
  background: var(--nt-grey-900); border: var(--nt-border);
  border-radius: 32px; width: 100%; max-width: 450px; padding: 32px;
}
.field { margin-bottom: 20px; }
.field label { display: block; font-family: var(--font-dot); font-size: 11px; color: var(--nt-grey-400); margin-bottom: 8px; margin-left: 4px; }
.field input, .field textarea {
  width: 100%; padding: 14px; background: var(--nt-black); border: var(--nt-border);
  border-radius: 12px; color: white; font-family: var(--font-main); outline: none;
}
.field input:focus { border-color: var(--nt-white); }

.btn-group { display: flex; gap: 12px; margin-top: 24px; }
.btn {
  flex: 1; padding: 16px; border-radius: 100px; border: none;
  font-family: var(--font-dot); font-weight: 700; cursor: pointer; text-transform: uppercase;
}
.btn-main { background: var(--nt-white); color: var(--nt-black); }
.btn-sec { background: transparent; color: var(--nt-white); border: var(--nt-border); }

#empty-state {
  text-align: center; margin-top: 100px; color: var(--nt-grey-400);
  font-family: var(--font-dot); font-size: 14px;
}
</style>
</head>
<body>

<header class="app-header">
  <div class="header-top">
    <div class="app-title">MÉMOIRE<span id="count">(0)</span></div>
    <div class="material-icons-round" style="opacity:0.5">sensors</div>
  </div>
  <div class="search-bar">
    <span class="material-icons-round">search</span>
    <input type="text" id="search" placeholder="RECHERCHER_DATA..." oninput="render()">
  </div>
</header>

<main class="main-content">
  <div id="empty-state">AUCUNE_DONNÉE_DÉTECTÉE</div>
  <div class="cards-grid" id="grid"></div>
</main>

<button class="fab" onclick="toggleModal(true)">
  <span class="material-icons-round">add</span>
</button>

<div class="modal" id="modal">
  <div class="modal-content">
    <div class="field">
      <label>TITRE_UNITÉ</label>
      <input type="text" id="title" placeholder="...">
    </div>
    <div class="field">
      <label>CONTENU_DATA</label>
      <textarea id="content" rows="4" placeholder="..."></textarea>
    </div>
    <div class="field">
      <label>IMAGE_URL (OPTIONNEL)</label>
      <input type="text" id="img-url" placeholder="https://...">
    </div>
    <div class="btn-group">
      <button class="btn btn-sec" onclick="toggleModal(false)">ANNULER</button>
      <button class="btn btn-main" onclick="save()">ENREGISTRER</button>
    </div>
  </div>
</div>

<script>
let items = JSON.parse(localStorage.getItem('nothing_memo_db')) || [];

function toggleModal(show) {
  document.getElementById('modal').classList.toggle('active', show);
  if(!show) { 
    document.getElementById('title').value = ''; 
    document.getElementById('content').value = '';
    document.getElementById('img-url').value = '';
  }
}

function save() {
  const title = document.getElementById('title').value;
  const content = document.getElementById('content').value;
  const img = document.getElementById('img-url').value;

  if(!title && !content) return;

  const newItem = {
    id: Date.now(),
    title: title || 'SANS_TITRE',
    content: content,
    img: img,
    date: new Date().toLocaleDateString('fr-FR', {day:'2-digit', month:'2-digit', year:'2-digit'})
  };

  items.unshift(newItem);
  sync();
  toggleModal(false);
  render();
}

function deleteItem(id) {
  items = items.filter(i => i.id !== id);
  sync();
  render();
}

function sync() {
  localStorage.setItem('nothing_memo_db', JSON.stringify(items));
}

function render() {
  const query = document.getElementById('search').value.toLowerCase();
  const filtered = items.filter(i => i.title.toLowerCase().includes(query) || i.content.toLowerCase().includes(query));
  
  const grid = document.getElementById('grid');
  const empty = document.getElementById('empty-state');
  const count = document.getElementById('count');

  count.innerText = `(${filtered.length})`;
  grid.innerHTML = '';
  empty.style.display = filtered.length ? 'none' : 'block';

  filtered.forEach(item => {
    grid.innerHTML += `
      <div class="card">
        <button class="delete-btn" onclick="deleteItem(${item.id})">
          <span class="material-icons-round" style="font-size:18px">close</span>
        </button>
        <div class="card-type">LOG_0${item.id.toString().slice(-2)}</div>
        <div class="card-title">${item.title}</div>
        ${item.img ? `<img src="${item.img}" class="card-img">` : ''}
        <div class="card-text">${item.content}</div>
        <div class="card-date">${item.date}</div>
      </div>
    `;
  });
}

// Initialisation
render();
</script>

</body>
</html>
